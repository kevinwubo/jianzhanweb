@using Common
@using Entity.ViewModel;
@{
    ViewBag.Title = "咨询量更新";
    InquiryEntity entity = (InquiryEntity)ViewBag.Inquiry;
    List<UserEntity> userList = (List<UserEntity>)ViewBag.UserList;
    Layout = null;
}

<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="yes" name="apple-touch-fullscreen" />
    <meta content="telephone=no,email=no" name="format-detection" />
    <meta content="maximum-dpr=2" name="flexible" />
    <link rel="stylesheet" href="/source/static/css/flexible_base.css" type="text/css">
    <link rel="stylesheet" href="/source/static/css/1905_pagination.css" type="text/css">
    <link rel="stylesheet" href="/source/static/css/index.css" type="text/css">
    <script src="/source/static/js/flexible_css.js"></script>
    <script src="/source/static/js/flexible.js"></script>
    <link rel="stylesheet" href="/source/static/css/jquery-ui.css" type="text/css">
    <script src="/source/static/js/jquery-2.1.4.js"></script>
    <script src="/source/static/js/jquery-ui.js"></script>
    

    <title>首页</title>
    <style>
        html {
            background: #fafafa;
        }

        .edit .cancel {
            height: .8rem;
            width: 2.7rem;
            background-color: #b3b3b3;
            line-height: .8rem;
            text-align: center;
            color: #fff;
        }

        .edit .sumbit {
            height: .8rem;
            width: 2.7rem;
            background-color: #b32b2b;
            line-height: .8rem;
            text-align: center;
            color: #fff;
        }

        .edit .ztact {
            background-color: #199fd4;
            color: #fff;
        }

        .edit .xsselect {
            width: 2rem;
            height: .706667rem;
            line-height: .706667rem;
            padding: 0 .3rem;
            border: 1px solid #ddd;
        }

            .edit .xsselect option {
                font-size: 25px;
            }

        .city-picker-selector .selector-item {
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 200px;
            background-color: #fff;
            height: .706667rem;
            line-height: .706667rem;
            float: left;
            margin-left: 20px;
            font-size: 25px;
            position: relative;
        }

        .city-picker-selector li {
            border-top: 1px solid #f7f7f7;
            color: #333;
            cursor: pointer;
            font-size: 25px;
            width: 90%;
            padding: 0 5%;
            height: .706667rem;
            line-height: .706667rem;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .city-picker-selector .selector-name {
            border-radius: 5px;
            color: #333;
            font-size: 25px;
            display: block;
            text-indent: 5%;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .city-picker-selector .selector-item:after {
            top: 25px;
            right: 15px;
        }
    </style>
</head>

<body class="edit">
    <form class="form-horizontal" id="EditForm" action="/Inquiry/MobileModify" method="post">
        <div style="padding: 1rem;">
            <input type="hidden" id="AddDate" name="AddDate" value="@entity.AddDate.ToString()" />
            <input type="hidden" id="PPId" name="PPId" value="@entity.PPId">

            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="line-height:.706667rem;width:1.466667rem;">编号名称</div>
                <div style="line-height:.706667rem;height: .706667rem;" class="px25 color_9">
                    <input type="text" placeholder="产品名称/编号" id="ProductID" name="ProductID" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;" value="@entity.ProductID">
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">询价销售</div>
                <div class="px25 color_9 flex-col">
                    <select tabindex="1" class="xsselect px25" id="OperatorID" @(ViewBag.CanEdit ? "" : "disabled=disabled") name="OperatorID">
                        @if (userList != null && userList.Count > 0)
                        {
                            foreach (UserEntity item in userList)
                            {
                                <option value="@item.UserID" @(entity.OperatorID.Equals(item.UserID.ToString()) ? "selected" : "")>@item.NickName</option>
                            }
                        }
                    </select>
                </div>

            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">客户姓名</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" id="CustomerName" name="CustomerName" value="@entity.CustomerName" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;" />
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">电话号码</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" id="telphone" name="telphone" value="@entity.telphone" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;" />
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">备用号码</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" id="CommentContent" name="CommentContent" value="@entity.CommentContent" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;" />
                </div>
            </div>

            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">QQ/微信</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" id="WebChartID" name="WebChartID" value="@entity.WebChartID" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;">
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">留言内容</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" id="InquiryContent" name="InquiryContent" value="@entity.InquiryContent" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;">
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">处理状态</div>
                <div class="px25 color_9 flex-col">
                    <select class="xsselect px25" id="ProcessingState" name="ProcessingState">
                        <option value="1" @(entity.ProcessingState.Equals("1") ? "selected" : "")>未处理</option>
                        <option value="0" @(entity.ProcessingState.Equals("0") ? "selected" : "")>已处理</option>
                    </select>
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">省份城市</div>
                <div class="px25 color_9 flex-col">
                    <input type="text" placeholder="省份" id="Provence" name="Provence" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;width:110px;" value="@entity.Provence" maxlength="50">
                    <input type="text" placeholder="城市" id="City" name="City" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;width:110px;" value="@entity.City" maxlength="50">
                </div>
            </div>
            <div class="flex-row" style="height:auto;margin-bottom: .346667rem;">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">跟踪内容</div>
                <div class="px25 color_9 flex-col">
                    <input class="span5" type="text" placeholder="跟踪内容" style="padding: 0 .333333rem; height: 1.406667rem; border: 1px solid #ddd;width: -webkit-fill-available;line-height: 53px"
                           id="TraceContent" name="TraceContent" value="@entity.TraceContent" >
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">跟踪状态</div>
                <div class="px25 color_9 flex-col">
                    <select class="xsselect px25" id="TraceState" name="TraceState">
                        <option value="有意向" @(entity.TraceState.Equals("有意向") ? "selected" : "")>有意向</option>
                        <option value="已成交" @(entity.TraceState.Equals("已成交") ? "selected" : "")>已成交</option>
                        <option value="无意向" @(entity.TraceState.Equals("无意向") ? "selected" : "")>无意向</option>
                        <option value="假号" @(entity.TraceState.Equals("假号") ? "selected" : "")>假号</option>
                    </select>
                </div>
            </div>
            <div class="flex-row" style="height:1.053333rem">
                <div class="px25 mar-r-30 color_3" style="width:1.466667rem;line-height:.706667rem;">回访日期</div>
                <div class="px25 color_9 flex-col" style="position: relative;">
                    <input type="text" id="NextVisitTime" name="NextVisitTime" value="@(entity.NextVisitTime > Convert.ToDateTime("2000-01-01") ? entity.NextVisitTime.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))" style="padding: 0 .333333rem;width: -webkit-fill-available;
                height: .706667rem;
                border: 1px solid #ddd;">
                    @*<img style="width: .293333rem;
               position: absolute;
               top: 17px;
               right: 17px;" class="mar-r-10" src="/source/static/images/icon/date.png" />*@
                </div>
            </div>
            <div class="flex-row" style="margin: auto;width: 5.9rem;">
                <button class="sumbit px25" type="submit" id="save">保存</button>
                <div style="width:.5rem;"></div>
                <button class="cancel px25" type="button" id="goback">返回</button>
            </div>

        </div>
</body>
</html>
<script src="/source/static/js/jquery.pagination.js"></script>
<script>
    $(function () {
        $("#NextVisitTime").datepicker();
    });
    $("#goback").click(function () {
        window.location.href = "/Inquiry/MobileIndex";
    });
</script>