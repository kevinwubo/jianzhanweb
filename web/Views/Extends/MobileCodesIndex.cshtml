@using Entity.ViewModel;
@{
    ViewBag.Title = "产品队列维护";
    List<CodeSEntity> list = (List<CodeSEntity>)ViewBag.CodesList;
    Layout = "~/Views/Shared/_Layout_mobile_admin.cshtml";
}
<div class="row-fluid">
    <div class="widget widget-padding span12">
        <div class="widget-header">
            <i class="icon-laptop"></i>
            <h5>产品队列维护</h5>
        </div>
        <div class="widget-body" style="margin-bottom:50px">
            <div id="menus_wrapper" class="dataTables_wrapper form-inline" role="grid">
                <form action="/Extends/ModifyCodes" method="get">
                    <div class="row-fluid">
                        <div class="dataTables_length" id="menus_filter">
                            <input type="hidden" id="type" name="type" value="@ViewBag.Type" />
                            <input type="hidden" id="id" name="id" />
                            <label>存储值: <textarea cols="50" rows="5" style="margin: 0px; width: auto; height: 80px;" id="codevalues" name="codevalues"></textarea></label>
                            <button class="btn btn-info" id="btn_Update" type="submit">更新</button>
                        </div>
                    </div>
                </form>
                @if (list != null && list.Count > 0)
                {
                    <table id="users" class="table table-striped table-bordered dataTable" aria-describedby="users_info">
                        <thead>
                            <tr role="row">
                                <th role="columnheader" tabindex="0" rowspan="1" colspan="1">Code</th>
                                <th role="columnheader" tabindex="0" rowspan="1" colspan="1">位置属性</th>
                                <th role="columnheader" tabindex="0" rowspan="1" colspan="1">存储值</th>
                                <th role="columnheader" tabindex="0" rowspan="1" colspan="1">修改时间</th>
                                <th role="columnheader" tabindex="0" rowspan="1" colspan="1">操作</th>
                            </tr>
                        </thead>

                        <tbody role="alert" aria-live="polite" aria-relevant="all">
                            @foreach (CodeSEntity item in list)
                            {
                                <tr>
                                    <td class=" sorting_1" style="width:20%;">@item.Code</td>
                                    <td class=" " style="width:20%;">@item.CodeName</td>
                                    <td class=" " style="width:20%;word-wrap: break-word; word-break: break-all;">@item.CodeValues</td>
                                    <td class=" " style="width:20%;">@item.change_date</td>
                                    <td style="width:20%;"><a href="###" onclick="Modify(@item.ID,'@item.CodeValues')"><i class="file-icon-lg"></i> 修改</a></td>
                                </tr>
                            }

                        </tbody>
                    </table>
                }

            </div>
        </div>
    </div>
</div>
<script>
    function Modify(id, codeValues) {
        $("#codevalues").val(codeValues);
        $("#id").val(id);
    }   
</script>